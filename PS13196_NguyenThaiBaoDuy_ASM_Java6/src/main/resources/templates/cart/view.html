<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
    th:replace="~{/layout/shop :: dynamic(~{::main})}">
    <body>
        <main>
            <section>
                <div class="container bannershop p-5">
                    <div class="row p-4 text-center mx-auto">
                        <H4>GIỎ HÀNG CỦA BẠN</H4>
                    </div>
                    <div class="row  d-flex justify-content-center">
                        <div class="col w-100">
                            <nav class=" d-flex justify-content-center"
                                style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E&#34;);"
                                aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a style="font-size: 20px;"
                                            th:href="@{/index}">Trang
                                            chủ</a></li>
                                    <li class="breadcrumb-item active" aria-current="page"
                                        style="font-size: 20px;">Giỏ
                                        hàng</li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <div class="container mt-4">
                    <div class="row d-flex justify-content-center">
                        <div class="col">
                            <div class="row py-4">
                                <h5>Số lượng sản phẩm: <span>{{cart.count}}</span></h5>
                            </div>
                            <div class="listcart" th:fragment="shopping-cart">
                                <!-- <div class="listcart" th:fragment="shopping-cart"> -->
                                <table class="table text-center tableGioHang">
                                    <thead>
                                        <tr>
                                            <th scope="col">Mã</th>
                                            <th scope="col">Hình</th>
                                            <th scope="col">Sản phẩm</th>
                                            <th scope="col">Giá</th>
                                            <th scope="col">Số lượng</th>
                                            <th scope="col">Tổng</th>
                                            <th scope="col"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in cart.items">
                                            <td class="py-5">{{item.id}}</td>
                                            <td class="text-center" style="width: 10%;"><img
                                                    th:src="@{|/assets/images/imageproduct/{{item.image}}|}"
                                                    alt="..." height="100px" width="100px"></td>
                                            <td class="py-5" style="width: 20%;">{{item.name}}</td>
                                            <td class="py-5">{{item.price | number : 2}}</td>
                                            <td style="width: 10%;" class="py-5">
                                                <input style="text-align: center;" ng-change="cart.saveToLocalStorage()" ng-model="item.qty" type="number" min="1"
                                                class="form-control mx-auto" name="qty"
                                                value="{{item.qty}}">
                                            </td>
                                            <td class="py-5">{{item.qty*item.price | number : 2}}</td>
                                            <td class="py-5 text-end" style="width: 5%;"><button ng-click="cart.remove(item.id)" class="btn btn-outline-warning"><i class="bi bi-archive"></i></button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="row mt-3">
                                <div class="col-4">
                                    <a class="btn btn-outline-primary mb-2" th:href="@{/shop}">Tiếp tục mua
                                        hàng</a>
                                </div>
                                <div class="col-4 text-center">
                                    <a class="btn btn-outline-success mb-2" th:href="@{/order/checkout}">Tiến hành mua hàng</a>
                                </div>
                                <div class="col-4 text-end">
                                    <button class="btn btn-outline-danger mb-2" ng-click="cart.clear()">Xoá toàn bộ
                                        giỏ hàng</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </body>
</html>